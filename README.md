# Приложение для выгула собак

## Описание проекта

Это Django-приложение разработано для сервиса по выгулу собак. Оно позволяет жильцам дома оформлять заказы на выгул своих питомцев через REST API.

## Функционал

1. Создание заказов на выгул собак
2. Просмотр списка заказов на определенную дату
3. Автоматическая валидация времени прогулки
4. Проверка доступности выгульщиков

## Технические детали

- Фреймворк: Django
- API: Django Rest Framework
- База данных: SQLite (по умолчанию в Django)

## Установка и запуск

1. Клонируйте репозиторий:
   ```bash
   git clone [URL вашего репозитория]
   ```

2. Перейдите в директорию проекта:
   ```bash
   cd dog_walking
   ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

4. Примените миграции:
   ```bash
   python manage.py migrate
   ```

5. Создайте суперпользователя:
   ```bash
   python manage.py createsuperuser
   ```

6. Запустите сервер:
   ```bash
   python manage.py runserver
   ```

## Использование API

API можно использовать как через командную строку с помощью curl, так и через браузерный интерфейс Django Rest Framework.

### Через curl

1. Создание заказа:
   ```bash
   curl -X POST http://localhost:8000/api/orders/create/ \
        -H "Content-Type: application/json" \
        -d '{"apartment_number": "101", "pet_name": "Бобик", "pet_breed": "Лабрадор", "walk_date": "2023-05-01", "walk_time": "14:30"}'
   ```

2. Получение списка заказов на определенную дату:
   ```bash
   curl http://localhost:8000/api/orders/?date=2023-05-01
   ```

### Через браузерный интерфейс

Django Rest Framework предоставляет удобный браузерный интерфейс для работы с API.

1. Создание заказа:
   - Перейдите по адресу: `http://localhost:8000/api/orders/create/`
   - Вы увидите форму для создания нового заказа
   - Заполните все поля и нажмите кнопку "POST"

2. Получение списка заказов:
   - Перейдите по адресу: `http://localhost:8000/api/orders/?date=2023-05-01`
   - Замените дату на нужную вам
   - Вы увидите список всех заказов на указанную дату

### Примеры запросов и ответов

1. Создание заказа:

Запрос:
```
json
POST /api/orders/create/
{
"apartment_number": "101",
"pet_name": "Бобик",
"pet_breed": "Лабрадор",
"walk_date": "2023-05-01",
"walk_time": "14:30"
}

```
Успешный ответ (статус 201 Created):
```
{
    "id": 1,
    "apartment_number": "101",
    "pet_name": "Бобик",
    "pet_breed": "Лабрадор",
    "walk_date": "2023-05-01",
    "walk_time": "14:30"
}
```

2. Получение списка заказов:

Запрос:
```
GET /api/orders/?date=2023-05-01
```

Успешный ответ (статус 200 OK):
```
[
    {
        "id": 1,
        "apartment_number": "101",
        "pet_name": "Бобик",
        "pet_breed": "Лабрадор",
        "walk_date": "2023-05-01",
        "walk_time": "14:30"
    },
    {
        "id": 2,
        "apartment_number": "202",
        "pet_name": "Мурка",
        "pet_breed": "Такса",
        "walk_date": "2023-05-01",
        "walk_time": "15:00"
    }
]
```

### Обработка ошибок

При попытке создать некорректный заказ API вернет ошибку с соответствующим сообщением. Например:

```
{
    "walk_time": ["Прогулка может начинаться только в начале часа или в половину часа."],
    "non_field_errors": ["На это время нет свободных выгульщиков."]
}
```

## Ограничения

- Прогулка может длиться не более получаса
- Прогулка может начинаться либо в начале часа, либо в половину (11:00, 11:30, 12:00, 12:30…)
- Самая ранняя прогулка может начинаться в 7:00, а самая поздняя — в 23:00
- Одновременно могут выгуливаться не более двух собак (по одной на каждого выгульщика)

## Административная панель

Для доступа к административной панели Django:

1. Перейдите по адресу: `http://localhost:8000/admin/`
2. Войдите, используя учетные данные суперпользователя

В административной панели вы можете:
- Просматривать все заказы
- Создавать новые заказы
- Редактировать существующие заказы
- Удалять заказы

## Разработка

Для добавления новых функций или изменения существующих:

1. Модели данных находятся в `orders/models.py`
2. API-представления находятся в `orders/views.py`
3. Сериализаторы и валидация данных находятся в `orders/serializers.py`
4. URL-маршруты определены в `orders/urls.py`

## Тестирование

Для запуска тестов используйте команду:

```
python manage.py test
```

## Поддержка

Если у вас возникли вопросы или проблемы, пожалуйста, создайте issue в репозитории проекта.